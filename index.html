<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Libro.0 â€“ Pascoli</title>
  <link rel="stylesheet" href="style.css" />
  <script defer src="script-index.js"></script>

  <style>
    /* Centramento immagine nel modale */
    .modal-center-wrapper {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .modal-center-wrapper img {
      max-width: 75vw;
      max-height: 75vh;
      width: auto;
      height: auto;
      border-radius: 12px;
      cursor: pointer;
      box-shadow: 0 0 18px rgba(0,0,0,0.4);
    }
  </style>
</head>

<body data-page="index">

  <header class="top-bar">
    <div class="logo-area">
      <span class="logo-main">Libro.0</span>
      <span class="logo-sub">Lo spazio del pensare</span>
    </div>

    <div class="theme-switcher" aria-label="Selettore tema">
      <button data-theme="A">A</button>
      <button data-theme="B">B</button>
      <button data-theme="C">C</button>
      <button data-theme="D">D</button>
      <button data-theme="E">E</button>
    </div>

    <nav class="tools-nav" aria-label="Strumenti Libro.0">
      <button class="tool-btn" data-tool="mappe">ğŸ—ºï¸ Mappe</button>
      <button class="tool-btn" data-tool="lavagna">ğŸ“ Lavagna</button>
      <button class="tool-btn" data-tool="archivio">ğŸ“ Archivio</button>
    </nav>
  </header>

  <main class="intro-main">
    <section class="intro-hero">

      <!-- Testo -->
      <div class="intro-text">
        <h1>Giovanni Pascoli nel Libro.0</h1>

        <p>
          Questo ambiente non Ã¨ una semplice scheda di letteratura, ma una stanza del Libro.0:
          qui la lezione scritta convive con schemi, immagini, video e strumenti che trasformano
          lo studente in autore attivo del proprio studio.
        </p>

        <p>
          Puoi leggere i testi, evidenziare, prendere appunti, inviare concetti alle mappe,
          alla timeline o alla lavagna virtuale. Ogni gesto lascia traccia in una memoria lunga,
          che resta tua.
        </p>

        <h2>Capitoli di Pascoli</h2>
        <ol class="chapter-list intro-list">
          <li><a href="stupore.html">1 Â· Lo stupore</a></li>
          <li><a href="visione.html">2 Â· Visione del mondo</a></li>
          <li><a href="fanciullino.html">3 Â· Poetica del fanciullino</a></li>
          <li><a href="forma.html">4 Â· La forma</a></li>
          <li><a href="simbolismo.html">5 Â· Il simbolismo</a></li>
        </ol>
      </div>

      <!-- Media -->
      <div class="intro-media">

        <!-- Copertina + video -->
        <figure class="video-cover-wrapper" style="max-width:260px; margin:0 auto;">
          <div id="cover-wrapper">
            <img
              id="pascoli-cover"
              src="assets/pascoli_video.png"
              alt="Introduzione a Pascoli"
              style="width:100%; height:auto; cursor:pointer; display:block;"
            />
          </div>

          <div id="video-container" hidden>
            <div
              style="position:relative; width:100%; padding-top:56.25%; overflow:hidden; border-radius:12px;"
            >
              <iframe
                src="https://app.heygen.com/embedded-player/921a340e480a48fa94d440855d633b4a"
                frameborder="0"
                allow="encrypted-media; fullscreen;"
                allowfullscreen
                style="position:absolute; top:0; left:0; width:100%; height:100%;"
              ></iframe>
            </div>

            <button id="btn-back-to-cover" class="back-btn" style="margin-top:0.5rem;">
              â¹ Torna all'immagine
            </button>
          </div>

          <figcaption style="text-align:center; margin-top:0.5rem;">
            Clicca l'immagine per avviare il video introduttivo.
          </figcaption>
        </figure>

        <!-- Seconda immagine con funzione zoom centrato -->
        <figure class="intro-image">
          <img
            id="pascoli-intro"
            src="assets/Pascoli-intro.png"
            alt="Giovanni Pascoli â€“ immagine introduttiva"
            style="max-width:260px; width:100%; height:auto; margin:1.5rem auto 0.5rem auto; cursor:pointer; display:block;"
          />
          <figcaption style="text-align:center;">
            Giovanni Pascoli, tra biografia, visione del mondo e simboli.
          </figcaption>
        </figure>

      </div>
    </section>
  </main>

  <!-- MODALE GENERALE -->
  <div id="modal-overlay" class="modal-overlay" hidden
       style="position:fixed; inset:0; background:rgba(0,0,0,0.8); z-index:9999;">
    <div class="modal" style="width:100%; height:100%; position:relative;">
      <button id="modal-close"
              style="position:absolute; top:20px; right:20px; font-size:1.8rem; cursor:pointer;">
        âœ•
      </button>
      <div id="modal-content" style="width:100%; height:100%;"></div>
    </div>
  </div>

  <!-- SCRIPT PER ZOOM IMMAGINE -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {

      const introImg = document.getElementById('pascoli-intro');
      const modalOverlay = document.getElementById('modal-overlay');
      const modalContent = document.getElementById('modal-content');
      const modalClose = document.getElementById('modal-close');

      introImg.addEventListener('click', () => {
        modalContent.innerHTML = '';

        // wrapper flessibile che centra l'immagine
        const wrapper = document.createElement('div');
        wrapper.className = 'modal-center-wrapper';

        // immagine ingrandita
        const bigImg = introImg.cloneNode();
        bigImg.style.cursor = "pointer";

        wrapper.appendChild(bigImg);
        modalContent.appendChild(wrapper);
        modalOverlay.hidden = false;

        // Chiudi cliccando sull'immagine ingrandita
        bigImg.addEventListener('click', () => {
          modalOverlay.hidden = true;
          modalContent.innerHTML = '';
        });

        // Chiudi cliccando fuori
        modalOverlay.addEventListener('click', (e) => {
          if (e.target === modalOverlay) {
            modalOverlay.hidden = true;
            modalContent.innerHTML = '';
          }
        }, { once: true });
      });

      // Pulsante X
      modalClose.addEventListener('click', () => {
        modalOverlay.hidden = true;
        modalContent.innerHTML = '';
      });

    });
  </script>

</body>
</html>


