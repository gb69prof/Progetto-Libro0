<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Libro.0 â€“ Pascoli</title>
  <link rel="stylesheet" href="style.css" />
  <script defer src="script-index.js"></script>
</head>
<body data-page="index">
  <header class="top-bar">
    <div class="logo-area">
      <span class="logo-main">Libro.0</span>
      <span class="logo-sub">Lo spazio del pensare</span>
    </div>

    <div class="theme-switcher" aria-label="Selettore tema">
      <button data-theme="A">A</button>
      <button data-theme="B">B</button>
      <button data-theme="C">C</button>
      <button data-theme="D">D</button>
      <button data-theme="E">E</button>
    </div>

    <nav class="tools-nav" aria-label="Strumenti Libro.0">
      <button class="tool-btn" data-tool="mappe">ğŸ—ºï¸ Mappe</button>
      <button class="tool-btn" data-tool="lavagna">ğŸ“ Lavagna</button>
      <button class="tool-btn" data-tool="archivio">ğŸ“ Archivio</button>
    </nav>
  </header>

  <main class="intro-main">
    <section class="intro-hero">
      <div class="intro-text">
        <h1>Giovanni Pascoli nel Libro.0</h1>
        <p>
          Questo ambiente non Ã¨ una semplice scheda di letteratura, ma una
          stanza del Libro.0: qui la lezione scritta convive con schemi,
          immagini, video e strumenti che trasformano lo studente in autore
          attivo del proprio studio.
        </p>
        <p>
          Puoi leggere i testi, evidenziare, prendere appunti, inviare
          concetti alle mappe, alla timeline o alla lavagna virtuale.
          Ogni gesto lascia traccia in una memoria lunga, che resta tua.
        </p>

        <h2>Capitoli di Pascoli</h2>
        <ol class="chapter-list intro-list">
          <li><a href="stupore.html">1 Â· Lo stupore</a></li>
          <li><a href="visione.html">2 Â· Visione del mondo</a></li>
          <li><a href="fanciullino.html">3 Â· Poetica del fanciullino</a></li>
          <li><a href="forma.html">4 Â· La forma</a></li>
          <li><a href="simbolismo.html">5 Â· Il simbolismo</a></li>
        </ol>
      </div>

      <div class="intro-media">
        <!-- Copertina + video nello stesso identico spazio -->
        <figure class="video-cover-wrapper" style="max-width:260px; margin:0 auto;">
          <!-- Immagine iniziale (cliccabile) -->
          <div id="cover-wrapper">
            <img
              id="pascoli-cover"
              class="pascoli-cover-img"
              src="assets/pascoli_video.png"
              alt="Introduzione a Pascoli"
              style="width:100%; height:auto; cursor:pointer; display:block;"
            />
          </div>

          <!-- Video che sostituisce l'immagine mantenendo posizione e dimensioni -->
          <div id="video-container" hidden>
            <div
              class="video-frame-wrapper"
              style="position:relative; width:100%; padding-top:56.25%; overflow:hidden; border-radius:12px;"
            >
              <iframe
                src="https://app.heygen.com/embedded-player/921a340e480a48fa94d440855d633b4a"
                title="HeyGen video player"
                frameborder="0"
                allow="encrypted-media; fullscreen;"
                allowfullscreen
                style="position:absolute; top:0; left:0; width:100%; height:100%;"
              ></iframe>
            </div>
            <button
              id="btn-back-to-cover"
              class="back-btn"
              style="margin-top:0.5rem;"
            >
              â¹ Torna all'immagine
            </button>
          </div>

          <figcaption style="text-align:center; margin-top:0.5rem;">
            Clicca l'immagine per avviare il video introduttivo.
          </figcaption>
        </figure>

        <!-- Seconda immagine, ridotta e zoomabile a pagina intera -->
        <figure class="intro-image">
          <img
            id="pascoli-intro"
            src="assets/Pascoli-intro.png"
            alt="Giovanni Pascoli â€“ immagine introduttiva"
            style="max-width:260px; width:100%; height:auto; display:block; margin:1.5rem auto 0.5rem auto; cursor:pointer;"
          />
          <figcaption style="text-align:center;">
            Giovanni Pascoli, tra biografia, visione del mondo e simboli.
          </figcaption>
        </figure>
      </div>
    </section>
  </main>

  <!-- Overlay modale generale, riutilizzabile anche per ingrandire immagini -->
  <div id="modal-overlay" class="modal-overlay" hidden>
    <div class="modal">
      <button class="modal-close" id="modal-close">âœ•</button>
      <div id="modal-content"></div>
    </div>
  </div>

  <!-- Script per zoom a schermo intero della seconda immagine -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const introImg = document.getElementById('pascoli-intro');
      const modalOverlay = document.getElementById('modal-overlay');
      const modalContent = document.getElementById('modal-content');
      const modalClose = document.getElementById('modal-close');

      if (introImg && modalOverlay && modalContent) {
        introImg.addEventListener('click', () => {
          // Pulisci contenuto precedente
          modalContent.innerHTML = '';

          // Clona l'immagine e la adatta a schermo
          const bigImg = introImg.cloneNode();
          bigImg.removeAttribute('style');
          bigImg.style.maxWidth = '90vw';
          bigImg.style.maxHeight = '90vh';
          bigImg.style.width = 'auto';
          bigImg.style.height = 'auto';
          bigImg.style.display = 'block';
          bigImg.style.margin = '0 auto';
          bigImg.style.cursor = 'pointer';

          modalContent.appendChild(bigImg);
          modalOverlay.hidden = false;

          const closeModal = () => {
            modalOverlay.hidden = true;
            modalContent.innerHTML = '';
          };

          // Clic sull'immagine ingrandita: torna alla dimensione originale
          bigImg.addEventListener('click', closeModal);

          // Clic sullo sfondo scuro chiude il modale
          modalOverlay.addEventListener(
            'click',
            (e) => {
              if (e.target === modalOverlay) closeModal();
            },
            { once: true }
          );
        });
      }

      if (modalClose) {
        modalClose.addEventListener('click', () => {
          modalOverlay.hidden = true;
          if (modalContent) modalContent.innerHTML = '';
        });
      }
    });
  </script>
</body>
</html>

